<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Diatonic — Piano & Audio Toolkit for macOS</title>
  <link rel="canonical" href="https://diatonic.org/" />
  <meta name="description" content="Diatonic is a clean, modern piano + audio toolkit for composition and transcription on macOS. Interactive keyboard, scales & modes, looping, time-warp playback." />
  <meta property="og:title" content="Diatonic — Piano & Audio Toolkit for macOS" />
  <meta property="og:description" content="Interactive piano with scales & modes plus a built‑in audio player for looping and time‑warped playback." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/og-diatonic.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" href="favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&display=swap" rel="stylesheet">  
<style>
    :root {
      /* Refined neutral palette with warm brass accent */
      --bg: #f6f6f5;
      --bg-alt: #ececea;
      --panel: #ffffff;
      --panel-2: #f3f3f2;
      --text: #1c1c1b;
      --text-soft: #2e2e2c;
      --muted: #6b6b67;
      --accent: #c7a25a; /* brass / aged gold */
      --accent-hover: #b99345;
      --accent-soft: #e7d4ad;
      --stroke: #d8d7d4;
      --radius: 16px;
      --shadow: 0 2px 6px -1px rgba(0,0,0,.06), 0 8px 24px -6px rgba(0,0,0,.08);
      --font-sans: -apple-system,BlinkMacSystemFont,'Helvetica Neue','Segoe UI',Roboto,Helvetica,Arial,sans-serif;
      --font-serif: 'Cormorant Garamond',serif;
      --tracking-tight: -0.015em;
      --tracking-wide: 0.05em;
      --gradient-keys: repeating-linear-gradient(90deg,#000 0 6px,#111 6px 12px);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: var(--font-sans);
      background: radial-gradient(circle at 30% 20%, var(--panel) 0%, var(--bg) 55%, var(--bg-alt) 100%);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    a { color: inherit; text-decoration: none; }
    .container { width: min(1100px, 92vw); margin: 0 auto; }

  header { position: sticky; top: 0; z-index: 50; backdrop-filter: blur(18px) saturate(160%); background: rgba(255,255,255,0.72); border-bottom: 1px solid var(--stroke); }
    .nav { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; }
  .brand { display:flex; gap:.55rem; align-items:center; font-weight:600; letter-spacing: var(--tracking-tight); font-family: var(--font-serif); font-size: 24px; }
  .brand * { font-size: 24px; }
  .brand-dot { width: 12px; height: 12px; border-radius: 50%; background: linear-gradient(145deg,var(--accent),var(--accent-hover)); box-shadow: 0 0 0 2px #fff,0 0 0 3px var(--accent-soft); }
  .nav a { color: var(--muted); margin-left: 22px; font-size: 14px; position:relative; padding:4px 0; }
  .nav a:focus-visible { outline: 2px solid var(--accent); outline-offset: 4px; border-radius:4px; }
  .nav a::after { content:""; position:absolute; left:0; bottom:0; height:1px; width:0; background: var(--accent); transition: width .25s ease; }
  .nav a:hover::after, .nav a:focus-visible::after { width:100%; }
    .nav a:hover { color: var(--text); }

  .hero { padding: clamp(54px, 9vw, 108px) 0 28px; text-align: center; }
  .title { font-size: clamp(38px, 5vw, 58px); margin: 0 0 18px; font-weight: 500; font-family: var(--font-serif); letter-spacing: -0.012em; line-height: 1.1; font-variation-settings: 'opsz' 72, 'wght' 500; }
  .title em { font-style: normal; background: linear-gradient(100deg,var(--accent),var(--accent-hover)); -webkit-background-clip: text; background-clip: text; color: transparent; position:relative; }
  .title em::after { content:""; position:absolute; left:2px; right:2px; bottom:-6px; height:2px; background: linear-gradient(90deg,var(--accent) 0,var(--accent-hover) 70%,transparent 100%); opacity:.65; }
  .subtitle { color: var(--muted); font-size: clamp(17px, 2.1vw, 21px); margin: 0 auto 32px; width: min(720px, 90%); font-weight: 400; line-height:1.45; }

  .cta { display:flex; gap:16px; justify-content:center; flex-wrap: wrap; }
  .btn { --btn-bg: var(--panel); position:relative; display:inline-flex; align-items:center; gap:10px; padding:14px 22px 15px; border-radius: 14px; border: 1px solid var(--stroke); background: var(--btn-bg); color: var(--text-soft); font-weight:500; letter-spacing:.01em; box-shadow: var(--shadow); transition: transform .18s cubic-bezier(.4,.14,.3,1), border-color .25s; }
  .btn.primary { --btn-bg: linear-gradient(140deg,var(--accent) 0%,var(--accent-hover) 90%); border-color: var(--accent-hover); color:#fff; font-weight:600; }
  .btn.primary:hover { filter: brightness(1.03); }
  .btn:hover { transform: translateY(-3px); border-color: var(--accent-soft); }
  .btn:active { transform: translateY(-1px); }
  .btn:focus-visible { outline:2px solid var(--accent); outline-offset:3px; }
  .btn .hint { font-size:11px; opacity:.8; font-weight:400; }

  .hero-card { margin-top: 34px; background: linear-gradient(145deg,var(--panel),var(--panel-2)); border:1px solid var(--stroke); border-radius: calc(var(--radius) + 2px); overflow: hidden; box-shadow: var(--shadow); }
    .hero-media img { width: 100%; display:block; }
  .caption { color: var(--muted); font-size: 13px; text-align:center; padding: 12px 16px 18px; letter-spacing:.02em; }

  .section { padding: clamp(28px, 5vw, 54px) 0; }
  .section h2 { font-family: var(--font-serif); font-weight:500; font-size: clamp(26px, 3.2vw, 36px); margin: 0 0 30px; text-align:center; letter-spacing:-0.01em; position:relative; line-height:1.14; font-variation-settings: 'opsz' 56, 'wght' 500; }
  .section h2::after { content:""; display:block; margin:14px auto 0; width:80px; height:2px; background: linear-gradient(90deg,var(--accent),var(--accent-hover)); border-radius:2px; opacity:.55; }
    .grid { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 18px; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }
  .card { background: var(--panel); border:1px solid var(--stroke); border-radius: var(--radius); padding: 24px 22px 26px; box-shadow: var(--shadow); position:relative; overflow:hidden; transition: border-color .25s, transform .25s; }
  .card::before { content:""; position:absolute; inset:0; background:linear-gradient(140deg,var(--accent-soft) 0%,transparent 60%); opacity:0; transition: opacity .4s; pointer-events:none; }
  .card:hover { border-color: var(--accent-soft); transform: translateY(-4px); }
  .card:hover::before { opacity:.4; }
  .kicker { color: var(--accent-hover); font-weight:600; letter-spacing: var(--tracking-wide); font-size: 11px; margin-bottom: 8px; display:block; text-transform:uppercase; }
  .card h3 { margin: 0 0 10px; font-size: 21px; font-weight:600; letter-spacing:-0.01em; }
  .card p { margin: 0; color: var(--muted); line-height:1.48; }

    .band-bg {
      background: linear-gradient(180deg,var(--panel-2),var(--panel));
      border-top:1px solid var(--stroke);
      border-bottom:1px solid var(--stroke);
      width: 100vw;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      box-sizing: border-box;
      padding: 0;
    }
  .band { margin: 0 auto; max-width: 1200px; }
  .band .frame { width: 100%; max-width: 1200px; margin: 32px auto; border: 1px solid var(--stroke); border-radius: 22px; overflow: hidden; box-shadow: var(--shadow); background: var(--panel); display: block; }
    .band img { width: 100%; display:block; }

  /* Demo video */
  .video-card { background: linear-gradient(145deg,var(--panel),var(--panel-2)); border:1px solid var(--stroke); border-radius: calc(var(--radius) + 2px); overflow: hidden; box-shadow: var(--shadow); }
  .video-media { position: relative; aspect-ratio: 16 / 9; background: #000; }
  .video-media video { width: 100%; height: 100%; display: block; }

    .steps { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 18px; }
    @media (max-width: 900px) { .steps { grid-template-columns: 1fr; } }
  .step { padding: 22px 20px 24px; border:1px solid var(--stroke); border-radius: var(--radius); background: var(--panel); position:relative; overflow:hidden; }
  .step .num { width: 38px; height: 38px; border-radius: 12px; display:inline-grid; place-items:center; font-weight:600; font-feature-settings: 'tnum' 1; background: linear-gradient(145deg,var(--accent),var(--accent-hover)); color:#fff; margin-bottom: 12px; box-shadow: 0 6px 14px -6px rgba(0,0,0,.25); }

    footer { padding: 44px 0 46px; border-top:1px solid var(--stroke); color: var(--muted); font-size: 13.5px; background: linear-gradient(180deg,var(--panel),var(--bg)); }
    footer .row { display:flex; justify-content: space-between; align-items:center; flex-wrap: wrap; gap: 12px; }
    footer a { color: var(--muted); font-size:13px; position:relative; padding:3px 0; }
    footer a::after { content:""; position:absolute; left:0; bottom:0; width:0; height:1px; background: var(--accent); transition: width .25s; }
    footer a:hover::after { width:100%; }

    .center { text-align:center; }
    .muted { color: var(--muted); }

    /* Support / donate */
    .support-note { margin-top: 10px; color: var(--muted); font-size: 13.5px; }
    .btn.donate { 
      --btn-bg: var(--panel);
      border-color: var(--accent);
      color: var(--text);
    }
    .btn.donate:hover { border-color: var(--accent-hover); transform: translateY(-3px); }
    .btn .icon { display:inline-block; line-height:0; }

    @media (prefers-reduced-motion: reduce) {
      .btn, .card, .nav a::after { transition: none !important; }
    }

  /* Contact form */
  .form { width: min(760px, 96%); margin: 0 auto; text-align:left; }
  .form .row { display:grid; grid-template-columns: 1fr 1fr; gap: 14px; }
  @media (max-width: 720px) { .form .row { grid-template-columns: 1fr; } }
  .field { margin-bottom: 14px; }
  .label { display:block; font-size: 13px; color: var(--muted); margin-bottom: 6px; }
  .input, .textarea { width: 100%; padding: 12px 12px; border-radius: 10px; border: 1px solid var(--stroke); background: var(--panel); color: var(--text); box-shadow: inset 0 1px 0 rgba(0,0,0,.02); }
  .textarea { min-height: 140px; resize: vertical; }
  .help { font-size: 12px; color: var(--muted); margin-top: 6px; }
    .status {
      margin-top: 16px;
      margin-bottom: 16px;  
      font-size: 18px;
      text-align: center;
      font-weight: 500;
      color: var(--accent-hover);
    }
  .hide { display:none !important; }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="brand" href="#">
        <span class="brand-dot" aria-hidden="true"></span>
        <span>Diatonic</span>
      </a>
      <nav>
        <a href="#features">Features</a>
        <a href="#donate">Donate</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero container" id="home">
  <h1 class="title">A Desktop Piano & Time‑Warping Media Player</h1>
      <p class="subtitle">Theory-aware keyboard and audio player for composition and transcription.</p>
      <div class="cta" id="download">
        <a class="btn primary" href="https://github.com/ejkreboot/diatonic/releases/latest/download/Diatonic-Installer.dmg" role="button">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 3a4 4 0 0 1 4 4v5.586l1.293-1.293 1.414 1.414L12 19.414 5.293 12.707l1.414-1.414L8 12.586V7a4 4 0 0 1 4-4Z"/></svg>
          <span>Download for macOS</span>
          <span class="hint mono">Universal</span>
        </a>
        <a class="btn" href="https://github.com/ejkreboot/diatonic" role="button">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M8 5v14l11-7L8 5Z"/></svg>
          <span>Github Repo</span>
        </a> 
        <a class="btn" href="#demo" role="button">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M8 5v14l11-7L8 5Z"/></svg>
          <span>Watch demo</span>
        </a>
      </div>
      <div class="hero-card">
        <div class="hero-media">
          <!-- Replace with your real hero screenshot -->
          <img src="images/diatonic-hero.png" alt="Diatonic macOS app screenshot showing the piano and controls" />
        </div>
        <p class="caption">The precision tools you need in a beautiful interface.</p>
      </div>
    </section>

    <section class="section container" id="features">
      <h2>Designed for flow</h2>
      <div class="grid">
        <article class="card">
          <span class="kicker">Interactive Piano</span>
          <h3>Visualize theory, hear results</h3>
          <p>Play notes or auto‑stack intervals with one click. Highlight by key and mode to sketch ideas fast.</p>
        </article>
        <article class="card">
          <span class="kicker">Audio Player</span>
          <h3>Loop, slow down, focus</h3>
          <p>Load a track, set A/B markers, and time‑warp playback to transcribe tricky passages without losing pitch.</p>
        </article>
        <article class="card">
          <span class="kicker">Built for macOS</span>
          <h3>Fast, native, distraction‑free</h3>
          <p>Notarized universal binary for Apple&nbsp;Silicon and Intel. Thoughtful shortcuts and a clean dark UI.</p>
        </article>
      </div>
    </section>


    <div class="band-bg">
      <section class="band" aria-label="App gallery">
        <div class="frame">
          <!-- Replace with your wide screenshot -->
          <img src="images/diatonic-wide.png" alt="Full-width view of Diatonic with large piano and controls" />
        </div>
      </section>
    </div>

    <section class="section container center" id="demo">
      <h2>Watch the demo</h2>
      <div class="video-card">
        <div class="video-media">
          <video controls controlsList="nodownload noremoteplayback" preload="metadata" playsinline poster="images/diatonic-hero.png">
            <source src="assets/Demo.mp4" type="video/mp4" />
            Your browser does not support embedded video. You can
            <a href="assets/Demo.mp4">download the demo</a> instead.
          </video>
        </div>
        <p class="caption">Short overview of Diatonic features and workflow.</p>
      </div>
      <div class="cta" style="margin-top:14px;">
  <a class="btn" href="assets/Demo.mp4" download>Download demo video (MP4)</a>
      </div>
    </section>  

  <section class="section container center" id="donate" style="background: var(--panel-2);">
      <h2>Support development</h2>
      <p class="subtitle">Diatonic is free. If it helps you, you can fuel future updates in one click.</p>
      <div class="cta">
        <a class="btn donate" href="https://www.buymeacoffee.com/tjlxisreyh" target="_blank" rel="noopener">
          <span class="icon" aria-hidden="true">
            <!-- simple coffee cup -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 7h13v5a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5V7zm13 0h3a2 2 0 1 1 0 4h-3V7zM5 19h12v2H5z"/>
            </svg>
          </span>
          <span>Buy me a coffee</span>
        </a>
      </div>
      <p class="support-note">No paywalls, no ads — just optional support. Thank you.</p>
    </section>

    <div class="band-bg" style="background: var(--panel-2); border: none;">
      <section class="section container" id="contact" style="background: none;">
        <h2 class="center">Questions or feedback</h2>
        <div class="status" id="formStatus" role="status" aria-live="polite"></div>

        <p class="subtitle center" style="margin-bottom:24px">Send a note here, or open an issue on <a href="https://github.com/ejkreboot/diatonic/issues" target="_blank" rel="noopener">GitHub</a> if you prefer.</p>
  <form class="form" id="contactForm" action="https://api.diatonic.org/api/create-issue" method="POST" accept-charset="UTF-8">
          <div class="row">
            <div class="field">
              <label class="label" for="name">Name <span class="muted">(optional)</span></label>
              <input class="input" id="name" name="name" type="text" autocomplete="name" />
            </div>
            <div class="field">
              <label class="label" for="email">Email <span class="muted">(optional)</span></label>
              <input class="input" id="email" name="email" type="email" inputmode="email" autocomplete="email" />
            </div>
          </div>
          <div class="field">
            <label class="label" for="message">Message</label>
            <textarea class="textarea" id="message" name="message" required></textarea>
          </div>
          <!-- Honeypot -->
          <div class="hide"><label>Leave empty<input type="text" name="hp" tabindex="-1" autocomplete="off" /></label></div>
          <!-- Math challenge -->
          <div class="field" id="math-challenge-field" style="margin: 18px 0; text-align: left; margin-bottom: 1.5em;">
            <label class="label" id="math-challenge-label" for="math-challenge-input">Loading challenge…</label>
            <input class="input" style="max-width:120px; display:inline-block; text-align: left; border-radius: 10px; border: 1px solid #ccc; padding: 0.3em 0.5em; display: block;" id="math-challenge-input" name="math_challenge" type="text" autocomplete="off" required />
          </div>
          <div class="cta">
            <button class="btn primary" type="submit" id="sendBtn">Send message</button>
            <a class="btn" href="https://github.com/ejkreboot/diatonic/issues/new/choose" target="_blank" rel="noopener">Open a GitHub issue</a>
          </div>
        </form>
      </section>
    </div>

  </main>

  <footer>
    <div class="container row">
      <nav>
        <a href="#donate">Donate</a>
      </nav>
      <div>© <span id="y"></span> Diatonic. All rights reserved.</div>
    </div>
  </footer>

  <script>
    // tiny QoL touches
    document.getElementById('y').textContent = new Date().getFullYear();
    // smooth scroll for on‑page anchors
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        const id = a.getAttribute('href');
        if (id && id.length > 1) {
          const el = document.querySelector(id);
          if (el) { e.preventDefault(); el.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
        }
      });
    });
    // Contact form handler and ?contact_status=thanks logic
    (function(){
      var status = document.getElementById('formStatus');
      if (!status) return;
      var url = new URL(window.location.href);
      if (url.searchParams.get('contact_status') === 'thanks') {
        status.textContent = 'Thanks! Your message has been received.';
        url.searchParams.delete('contact_status');
        window.history.replaceState({}, '', url.pathname + url.search + url.hash);
      }

      // Math challenge setup
      var mathA = Math.floor(Math.random() * 8) + 2;
      var mathB = Math.floor(Math.random() * 8) + 2;
      var mathAnswer = mathA + mathB;
      var mathLabel = document.getElementById('math-challenge-label');
      var mathInput = document.getElementById('math-challenge-input');
      if (mathLabel && mathInput) {
        mathLabel.textContent = `Humanity check: what is ${mathA} + ${mathB}?`;
        mathInput.value = '';
      }

      var form = document.getElementById('contactForm');
      if (!form) return;
      var btn = document.getElementById('sendBtn');
      form.addEventListener('submit', function(e) {
        if (mathInput && String(mathInput.value).trim() !== String(mathAnswer)) {
          e.preventDefault();
          status.textContent = 'Please answer the math question correctly.';
          mathInput.focus();
          return false;
        }
      });
    })();

  </script>
</body>
</html>
